---
const phoneNumber = "56934595047";
const message = "Hola, los contacto desde su página Protrabajo por lo siguiente:";
const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
---

<a href={whatsappUrl} target="_blank" rel="noopener noreferrer" class="whatsapp-float" aria-label="Contactar por WhatsApp">
  <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16 0C7.164 0 0 7.164 0 16c0 2.824.736 5.488 2.024 7.792L0 32l8.416-2.008A15.93 15.93 0 0016 32c8.836 0 16-7.164 16-16S24.836 0 16 0z" fill="#25D366"/>
    <path d="M25.36 22.36c-.44 1.24-2.18 2.28-3.56 2.58-.94.2-2.16.36-6.28-1.35-5.28-2.18-8.68-7.56-8.94-7.91-.26-.35-2.12-2.82-2.12-5.38s1.34-3.82 1.82-4.34c.48-.52 1.04-.65 1.39-.65.35 0 .7.01 1.01.02.32.01.76-.12 1.19.91.44 1.04 1.5 3.66 1.63 3.93.13.26.22.57.04.92-.17.35-.26.57-.52.88-.26.31-.55.69-.78.93-.26.26-.53.54-.23.99.3.44 1.34 2.21 2.88 3.58 1.98 1.76 3.65 2.31 4.17 2.57.52.26.83.22 1.13-.13.3-.35 1.3-1.52 1.65-2.04.35-.52.7-.44 1.18-.26.48.17 3.04 1.43 3.56 1.69.52.26.87.39 1 .61.13.22.13 1.26-.31 2.5z" fill="#fff"/>
  </svg>
  <span class="whatsapp-tooltip">¿Necesitas ayuda?</span>
</a>

<style>
  .whatsapp-float {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 60px;
    height: 60px;
    background: #25D366;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
    z-index: 1000;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
    cursor: pointer;
  }

  .whatsapp-float:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(37, 211, 102, 0.6);
  }

  .whatsapp-float:active {
    transform: scale(0.95);
  }

  .whatsapp-float svg {
    width: 40px;
    height: 40px;
  }

  .whatsapp-tooltip {
    position: absolute;
    right: 70px;
    background: #ffffff;
    color: #454655;
    padding: 10px 16px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    white-space: nowrap;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease, transform 0.3s ease;
    transform: translateX(10px);
  }

  .whatsapp-tooltip::after {
    content: '';
    position: absolute;
    right: -6px;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    height: 0;
    border-left: 6px solid #ffffff;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
  }

  .whatsapp-float:hover .whatsapp-tooltip {
    opacity: 1;
    transform: translateX(0);
  }

  @keyframes pulse {
    0%, 100% {
      box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4);
    }
    50% {
      box-shadow: 0 4px 12px rgba(37, 211, 102, 0.4), 0 0 0 10px rgba(37, 211, 102, 0.1);
    }
  }

  .whatsapp-float {
    animation: pulse 2s infinite;
  }

  @media (max-width: 768px) {
    .whatsapp-float {
      bottom: 20px;
      right: 20px;
      width: 56px;
      height: 56px;
    }

    .whatsapp-float svg {
      width: 32px;
      height: 32px;
    }

    .whatsapp-tooltip {
      display: none;
    }
  }
</style>
